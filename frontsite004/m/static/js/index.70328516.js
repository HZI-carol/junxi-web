(function(t){function e(e){for(var o,a,c=e[0],u=e[1],s=e[2],l=0,f=[];l<c.length;l++)a=c[l],i[a]&&f.push(i[a][0]),i[a]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);h&&h(e);while(f.length)f.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(o=!1)}o&&(r.splice(e--,1),t=u(u.s=n[0]))}return t}var o={},a={index:0},i={index:0},r=[];function c(t){return u.p+"static/js/"+({}[t]||t)+"."+{"chunk-0563c156":"19f61912","chunk-178617da":"44788e1b","chunk-1b54f088":"64f18f7e","chunk-2401ca16":"66e5038f","chunk-32b471e2":"333076f3","chunk-3abfbabc":"8abd931f","chunk-dcda6418":"3793ff5a","chunk-e43463de":"8ab48eb7","chunk-4ef7af56":"b27c4a26"}[t]+".js"}function u(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n={"chunk-0563c156":1,"chunk-178617da":1,"chunk-1b54f088":1,"chunk-2401ca16":1,"chunk-32b471e2":1,"chunk-3abfbabc":1,"chunk-dcda6418":1,"chunk-e43463de":1,"chunk-4ef7af56":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise(function(e,n){for(var o="static/css/"+({}[t]||t)+"."+{"chunk-0563c156":"54260e22","chunk-178617da":"a82f104b","chunk-1b54f088":"e447e832","chunk-2401ca16":"706e1c8d","chunk-32b471e2":"78f0e0fb","chunk-3abfbabc":"fdb34bd0","chunk-dcda6418":"54b177bf","chunk-e43463de":"0ce2a0cd","chunk-4ef7af56":"386c845f"}[t]+".css",i=u.p+o,r=document.getElementsByTagName("link"),c=0;c<r.length;c++){var s=r[c],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===o||l===i))return e()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++){s=f[c],l=s.getAttribute("data-href");if(l===o||l===i)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var o=e&&e.target&&e.target.src||i,r=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");r.request=o,delete a[t],h.parentNode.removeChild(h),n(r)},h.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(h)}).then(function(){a[t]=0}));var o=i[t];if(0!==o)if(o)e.push(o[2]);else{var r=new Promise(function(e,n){o=i[t]=[e,n]});e.push(o[2]=r);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=c(t),s=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=i[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+o+": "+a+")");r.type=o,r.request=a,n[1](r)}i[t]=void 0}};var f=setTimeout(function(){s({type:"timeout",target:l})},12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(e)},u.m=t,u.c=o,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)u.d(n,o,function(e){return t[e]}.bind(null,o));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/m/",u.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var f=0;f<s.length;f++)e(s[f]);var h=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"1a5d":function(t,e,n){var o={"./Author.vue":["9411","chunk-dcda6418"],"./AuthorDetail.vue":["0959","chunk-e43463de"],"./AuthorPanoTask.vue":["7dd8","chunk-0563c156"],"./Index.vue":["d504","chunk-2401ca16"],"./News.vue":["a2f9","chunk-3abfbabc"],"./NewsDetail.vue":["9c36","chunk-178617da"],"./Pano.vue":["8ce4","chunk-1b54f088"],"./Support.vue":["1deb","chunk-32b471e2"]};function a(t){var e=o[t];return e?n.e(e[1]).then(function(){var t=e[0];return n(t)}):Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}a.keys=function(){return Object.keys(o)},a.id="1a5d",t.exports=a},"1d7d":function(t,e,n){},"23db":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("a026"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:"app-"+(t.$route.name||"index").toLowerCase(),attrs:{id:"app"}},[n("app-nav"),n("router-view"),n("app-footer",{directives:[{name:"show",rawName:"v-show",value:t.showFooter,expression:"showFooter"}]})],1)},i=[],r=(n("7f7f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{class:["top_navbar",{bg:t.isChangeNavBg}]},[n("div",{staticClass:"logo"},[n("a",{attrs:{href:t.$globalconfig.disable_logo_link?"javascript:;":"/"}},[n("img",{attrs:{src:t.$globalconfig.logo}})])]),n("div",{staticClass:"search-wrap"},[n("div",{class:["search",{active:t.isFocus}]},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"text",attrs:{placeholder:"搜索VR全景",type:"text"},domProps:{value:t.keyword},on:{blur:function(e){t.isFocus=!1},focus:function(e){t.isFocus=!0},input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),n("div",{staticClass:"iconfont icon-search btn",on:{click:t.searchPano}})])])])])}),c=[],u={data:function(){return{keyword:"",isFocus:!1,isChangeNavBg:!1}},created:function(){var t=this;window.addEventListener("scroll",function(e){var n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;t.isChangeNavBg=n>=60})},methods:{searchPano:function(){this.$router.push("/pano?keyword=".concat(this.keyword))}}},s=u,l=(n("9829"),n("2877")),f=Object(l["a"])(s,r,c,!1,null,null,null),h=f.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"copyright"},[t._v("\n    "+t._s(t.$globalconfig.copyright)+"\n  ")]),n("div",{staticClass:"footer"},[n("ul",[n("li",[n("router-link",{attrs:{to:"/pano"}},[n("i",{staticClass:"iconfont icon-VRquanjingtu"}),n("div",[t._v("VR全景")])])],1),n("li",[n("router-link",{attrs:{to:"/author"}},[n("i",{staticClass:"iconfont icon-zuozhe"}),n("div",[t._v(t._s(t.$globalconfig.author_alias))])])],1),n("li",[n("router-link",{attrs:{to:"/"}},[n("i",{staticClass:"iconfont icon-shouye"}),n("div",[t._v("主页")])])],1),n("li",[n("router-link",{attrs:{to:"/news"}},[n("i",{staticClass:"iconfont icon-xinwen"}),n("div",[t._v("新闻")])])],1),n("li",[n("router-link",{attrs:{to:"/support"}},[n("i",{staticClass:"iconfont icon-kefu1"}),n("div",[t._v("关于我们")])])],1)])])])},d=[],g={},v=g,b=(n("bff4"),Object(l["a"])(v,p,d,!1,null,null,null)),m=b.exports,k={components:{AppNav:h,AppFooter:m},data:function(){return{showFooter:!0}},watch:{$route:function(t){this.showFooter=!(this.$globalconfig.hide_author_detail_footer&&"AuthorDetail"===t.name)}}},w=k,y=(n("7faf"),Object(l["a"])(w,a,i,!1,null,null,null)),_=y.exports,O=n("8c4f");o["default"].use(O["a"]);var x=null;x=function(t){return function(){return n("1a5d")("./"+t+".vue")}};var $,S=new O["a"]({routes:[{path:"/",name:"Index",component:x("Index")},{path:"/pano",name:"Pano",component:x("Pano")},{path:"/author",name:"Author",component:x("Author")},{path:"/author/:id",name:"AuthorDetail",component:x("AuthorDetail")},{path:"/authorpanotask",name:"AuthorPanoTask",component:x("AuthorPanoTask")},{path:"/news",name:"News",component:x("News")},{path:"/news/:id",name:"NewsDetail",component:x("NewsDetail")},{path:"/support",name:"Support",component:x("Support")}]}),j=n("b9b9"),A=n.n(j),C=n("bc3a"),P=n.n(C),N=(n("28a5"),n("b54a"),n("d225")),T=n("b0b4"),M=n("308d"),E=n("6bb5"),L=n("4e2b"),I=n("795b"),F=n.n(I),G=n("76a0"),R=n("4328"),U=n.n(R),D=!1,q=function(){function t(e){Object(N["a"])(this,t),this.$http=e.$http,this.$router=e.$router,D||(this.setup(e),D=!0)}return Object(T["a"])(t,[{key:"setup",value:function(t){this.$http.interceptors.request.use(function(t){return G["Indicator"].open("玩命加载中..."),t},function(t){return G["Indicator"].close(),F.a.reject(t)}),this.$http.interceptors.response.use(function(t){return G["Indicator"].close(),t.data},function(t){G["Indicator"].close();var e=t.message||"请求出错，请重试～";return Object(G["Toast"])(e),F.a.reject(t)})}},{key:"_handleResult",value:function(t,e,n){100===t.code||"100"===t.code?e(t.data):(Object(G["Toast"])(t.msg||"请求出错，请重试～"),n(t))}},{key:"httpGet",value:function(t,e){var n=this;return new F.a(function(o,a){n.$http.get(t,{params:e}).then(function(t){n._handleResult(t,o,a)}).catch(function(t){return a(t)})})}},{key:"httpPost",value:function(t,e){var n=this;return new F.a(function(o,a){n.$http.post(t,U.a.stringify(e||{})).then(function(t){n._handleResult(t,o,a)}).catch(function(t){return a(t)})})}}]),t}(),B=function(t){function e(){return Object(N["a"])(this,e),Object(M["a"])(this,Object(E["a"])(e).apply(this,arguments))}return Object(L["a"])(e,t),Object(T["a"])(e,[{key:"getIndexPanoList",value:function(t){return this.httpGet("api/frontsite/indexpanos",{count:t})}},{key:"getPanoList",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return a=""===a?-1:a,this.httpGet("api/frontsite/panos/".concat(t,"/").concat(e),{tag_id:o,keyword:n,user_id:a,orderBy:i})}},{key:"getNewsTypeList",value:function(){return this.httpGet("api/frontsite/newstypes")}},{key:"getNewsList",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return n=""===n?-1:n,this.httpGet("api/frontsite/news/".concat(t,"/").concat(e),{type_id:n})}},{key:"getNewsDetail",value:function(t){return this.httpGet("api/frontsite/news/".concat(t))}},{key:"getTagList",value:function(){return this.httpGet("api/frontsite/tags")}},{key:"getAuthorList",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.httpGet("api/frontsite/users/".concat(t,"/").concat(e),{keyword:n})}},{key:"getAuthor",value:function(t){return this.httpGet("api/frontsite/users/".concat(t))}},{key:"getConfigs",value:function(){return this.httpGet("api/frontsite/configs")}},{key:"addPanoTask",value:function(t){return this.httpPost("api/frontsite/users/panotasks",t)}},{key:"setShareData",value:function(t){wx.ready(function(){wx.onMenuShareAppMessage({title:t.title,desc:t.desc,link:t.link,imgUrl:t.imgUrl}),wx.onMenuShareTimeline({title:t.title,link:t.link,imgUrl:t.imgUrl}),wx.onMenuShareWeibo({title:t.title,desc:t.desc,link:t.link,imgUrl:t.imgUrl}),wx.onMenuShareWeibo({title:t.title,desc:t.desc,link:t.link,imgUrl:t.imgUrl}),wx.showOptionMenu()})}},{key:"setJssdkConfig",value:function(t){var e=this;console.info(t),this.httpGet("api/wxplat/jssdk/wxconfig",{url:location.href.split("#")[0]}).then(function(n){wx.config({debug:!1,appId:n.appId,timestamp:n.timestamp,nonceStr:n.nonceStr,signature:n.signature,jsApiList:["checkJsApi","showOptionMenu","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo"]}),e.setShareData(t)})}}]),e}(q),V={install:function(t,e){P.a.defaults.baseURL=t.$globalconfig.apiurl,t.mixin({created:function(){if(this.$http||(this.$http=P.a),!$){var t=new B(this);$={api:t}}this.$service=$}})}};o["default"].use(G["Lazyload"]),o["default"].component(G["Field"].name,G["Field"]),o["default"].component(G["Swipe"].name,G["Swipe"]),o["default"].component(G["Button"].name,G["Button"]),o["default"].component(G["SwipeItem"].name,G["SwipeItem"]);n("18a4");var H=n("6a0b");o["default"].config.productionTip=!1,o["default"].use(H["a"]),o["default"].use(V,{baseURL:H["a"]}),o["default"].filter("dateFilter",function(t){return t?A()(t,"yyyy-mm-dd"):""}),o["default"].filter("datetimeFilter",function(t){return t?A()(t,"yyyy-mm-dd HH:MM:ss"):""}),new o["default"]({el:"#app",router:S,components:{App:_},template:"<App/>",created:function(){var t=this;console.info("v1.3.20190418"),window.$globalconfig||this.$service.api.getConfigs().then(function(e){console.info(t.$globalconfig),t.$globalconfig.platname=e.platname,t.$globalconfig.copyright=e.common_page_footer,t.$globalconfig.hotline=e.common_page_hotline,t.$globalconfig.service_qq=e.common_page_serviceqq})}})},"6a0b":function(t,e,n){"use strict";(function(t){n("aef6"),n("cadf"),n("551c"),n("f751"),n("097d");var o=window.VGO_MOBILE_CONFIG||{},a=window.$globalconfig||{URLS:{}},i={logo:a.LOGO||o.logo||"content/images/logo.png",platname:a.PLATFORM_NAME||"",apiurl:a.URLS.API||o.apiurl||"http://localhost:22945/",hotline:a.SERVICE_HOTLINE||"",service_qq:a.SERVICE_QQ||"",copyright:a.COPYRIGHT||"",banners:o.banners||[],author_alias:o.author_alias||"作者",show_author_panotask:o.show_author_panotask||!1,disable_logo_link:o.disable_logo_link||!1,hide_author_detail_footer:o.hide_author_detail_footer||!1};t?i.prod=!0:(i.logo="http://localhost:22945/krpano/images/logo.png",i.apiurl="http://localhost:22945/"),i.apiurl.endsWith("/")||(i.apiurl+="/"),e["a"]={install:function(t,e){t.$globalconfig=i,t.prototype.$globalconfig=i,t.mixin({created:function(){this.$globalconfig=i}})}}}).call(this,n("4362"))},"7faf":function(t,e,n){"use strict";var o=n("8fba"),a=n.n(o);a.a},"8fba":function(t,e,n){},9829:function(t,e,n){"use strict";var o=n("1d7d"),a=n.n(o);a.a},bff4:function(t,e,n){"use strict";var o=n("23db"),a=n.n(o);a.a}});